doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    meta(name="description", content=data.crate.description)
    link(rel="stylesheet", href="https://use.fontawesome.com/releases/v5.9.0/css/all.css", crossorigin="anonymous")
    link(rel="stylesheet", href="/bundle.css")
    link(rel="shortcut icon", href="/favicon.png")
    script(type="module", src="/bundle.js")
    title #{data.crate.name} | Cratesinquire
  body
    header
    main#crate
      input#data(value=JSON.stringify(data), disabled, hidden)
      div.main-container
        section.search-container
        section.crate-header
          div.left-header
            div.header-title
              h1 #{data.crate.name}
            div.header-version #{data.crate.max_stable_version} â€¢ Published by ...
            div.header-links
              a(href=`https://crates.io/crates/${data.crate.id}`, target="_blank")
                img(src="/img/crates-icon.png", alt="link-icon")
              if data.crate.documentation
                a(href=data.crate.documentation, target="_blank")
                  img(src="/img/docs-icon.svg", alt="link-icon")
              if data.crate.repository
                a(href=data.crate.repository, target="_blank")
                  img(src="/img/github-icon.svg", alt="link-icon")
              if data.crate.homepage
                a(href=data.crate.homepage, target="_blank")
                  img(src="/img/homepage-icon.svg", alt="link-icon")
            div.header-date Updated on #{new Date(data.crate.updated_at).toLocaleString("en", { year: "numeric", month: "long", day: "numeric" })}
            div.header-date Created on #{new Date(data.crate.created_at).toLocaleString("en", { year: "numeric", month: "long", day: "numeric" })}
            div.header-desc
              div.header-icon-container
                i.fas.fa-info-circle
              div #{data.crate.description}
            div.header-keywords
              div.header-icon-container
                i.fas.fa-tags
              div.header-keywords-row
                each keyword in data.crate.keywords
                  a(href=`https://crates.io/keywords/${keyword}`, target="_blank") #{keyword}
                if !data.crate.keywords.length
                  span.empty-tags none
          div.right-header
            div.header-total-downloads
              div.header-icon-container
                i.fas.fa-download
              b #{data.crate.downloads.toLocaleString("en")}
        section.crate-bundle-size
          div.graph-header
            div.view-swtiches
              div#switch-crate-size.sel Crate Size
              div#switch-dowloads Downloads
              div#switch-lifetime Lifetime
            div.view-options
              div
          div.graph-container
            //- each version in data.versions
            //-  div
            //-    div.version-track
            //-  a(href=`https://crates.io/crates/${data.crate.id}/${version.num}`, target="_blank") #{version.num}
            //-  div
            //-    div.bundle-size-bar
            //-      span
        section.crate-dep-tree
          h3 Dependency Tree
          div.dep-tree-displayer-container
        section.crate-features
          h3 Features
    footer.abs
      div
        div Hosted on
        img(src="/img/heroku-logo.png", alt="hosted on")
      div
        div Made with
        i.fas.fa-heart
        div by
        a(href="https://github.com/apskhem" target="_blank") @apskhem.
        div &copy; 2021. All rights reserved.
